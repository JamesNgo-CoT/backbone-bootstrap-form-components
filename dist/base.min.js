"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Backbone.Model.Base=Backbone.Model.extend({attributeTypes:{},get:function(t,e){if(!0===e.recursive){var r=t.split(/(\[|\]|\.)+/);t=r.shift();var o=this.get(t,{recursive:!1}),i=!1;if(this.attributeTypes.hasOwnProperty(t)&&this.attributeTypes[t]&&"function"==typeof this.attributeTypes[t]&&((i=this.attributeTypes[t]===Backbone.Model.Base||this.attributeTypes[t].prototype instanceof Backbone.Model.Base)||this.attributeTypes[t]===Backbone.Collection||this.attributeTypes[t].prototype instanceof Backbone.Collection)&&o instanceof this.attributeTypes[t])if(i){if(r.length>0)return o.get(r.join("."),{recursive:!0})}else if(r.length>0){var n=+r.shift();if(r.length>0)return o.at(n).get(r.join("."),{recursive:!0})}return r.length>0?r.reduce(function(t,e){return t[Array.isArray(t)?+e:e]},o):o}return Backbone.Model.prototype.get.call(this,t)},set:function(t,e){"string"==typeof t&&(t=_defineProperty({},t,arguments[1]),e=arguments[2]);for(var r in this.attributeTypes)if(this.attributeTypes.hasOwnProperty(r)&&this.attributeTypes[r]&&t.hasOwnProperty(r)&&t[r])if("string"==typeof this.attributeTypes[r]&&_typeof(t[r])!==this.attributeTypes[r])switch(this.attributeTypes[r]){case"boolean":var o=Array.isArray(t[r])?t[r]:[t[r]];t[r]=(new(Function.prototype.bind.apply(String,[null].concat(_toConsumableArray(o))))).valueOf();break;case"number":var i=Array.isArray(t[r])?t[r]:[t[r]];t[r]=(new(Function.prototype.bind.apply(String,[null].concat(_toConsumableArray(i))))).valueOf();break;case"string":var n=Array.isArray(t[r])?t[r]:[t[r]];t[r]=(new(Function.prototype.bind.apply(String,[null].concat(_toConsumableArray(n))))).valueOf()}else if("function"==typeof this.attributeTypes[r]&&!(t[r]instanceof this.attributeTypes[r])){var a=Array.isArray(t[r])?t[r]:[t[r]];t[r]=new(Function.prototype.bind.apply(this.attributeTypes[r],[null].concat(_toConsumableArray(a))))}return Backbone.Model.prototype.set.call(this,t,e)},toJSON:function(t){var e=Backbone.Model.prototype.toJSON.call(this,t);if(!0===t.deep)for(var r in this.attributeTypes){var o=this.get(r);this.attributeTypes.hasOwnProperty(r)&&this.attributeTypes[r]&&"function"==typeof this.attributeTypes[r]&&(this.attributeTypes[r]===Backbone.Model||this.attributeTypes[r].prototype instanceof Backbone.Model||this.attributeTypes[r]===Backbone.Collection||this.attributeTypes[r].prototype instanceof Backbone.Collection)&&o instanceof this.attributeTypes[r]&&(e[r]=o.toJSON())}return e}}),Backbone.Collection.Base=Backbone.Collection.extend({model:Backbone.Model.Base}),Backbone.View.Base=Backbone.View.extend({});
//# sourceMappingURL=base.min.js.map
